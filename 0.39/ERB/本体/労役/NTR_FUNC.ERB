;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	Module		:NTR_FUNC.ERB
;	Facility	:ＮＴＲ関数置き場。
;
;	Licence		:ライセンスフリー。
;
;	Modification Data:
;
;	Edit	Date			Author					Reason
;	001		20XX/XX/XX		----					新規作成
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;===============================================================================
;  ◇記載関数一覧(記載順)
;
;		Module Name						Explanation
;
; *- xxxx
;
;	・ NTR_CALC							NTR:計算
;	・ NTR_LV							NTR:LV
;	・ NTR_SET_ＮＴＲ度					NTR:セット(ＮＴＲ度)
;
;===============================================================================

;-------------------------------------------------------------------------------
;   xxxx
;-------------------------------------------------------------------------------

;=================================================
;   sub NTR_CALC
;=================================================
;   NTR:計算
;-------------------------------------------------
; Input:
;  ARG:0				キャラ
;  ARG:1				加算値
;-------------------------------------------------
@NTR_CALC(ARG:0, ARG:1)
#DIM L_T
#DIM L_TMP

L_T = ARG:0
L_TMP = ARG:1

LOCALS = ＮＴＲ好感度
SIF CFLAG:L_T:LOCALS
	CFLAG:L_T:LOCALS = MAX(0, CFLAG:L_T:LOCALS + L_TMP)



;=================================================
;   sub NTR_LV
;=================================================
;   NTR:LV
;-------------------------------------------------
; Input:
;  ARG:0				キャラ
;-------------------------------------------------
@NTR_LV(ARG:0)
#FUNCTION
#DIM L_T
#DIM L_LV

L_T = ARG:0

L_LV = 0
SELECTCASE CFLAG:L_T:ＮＴＲ好感度
	;会話
	CASE IS < 100
		L_LV = 0
	;客室
	CASE IS < 300
		L_LV = 1
	;隷属
	CASE IS < 600
		L_LV = 2
	;陥落
	CASE IS < 1000
		L_LV = 3
	;失踪
	CASEELSE
		L_LV = -1
ENDSELECT

RETURNF L_LV


;=================================================
;   sub NTR_SET_ＮＴＲ度
;=================================================
;   NTR:セット(ＮＴＲ度)
;-------------------------------------------------
; Input:
;  ARG:0				キャラ
;  ARG:1				レベル
;-------------------------------------------------
@NTR_SET_ＮＴＲ度(ARG:0, ARG:1)
#DIM L_T

L_T = ARG:0

SELECTCASE ARG:1
	;会話
	CASE 0

	;客室
	CASE 1

	;隷属
	CASE 2

	;陥落
	CASE 3
		SIF TALENT:L_T:ＮＴＲ度 < 1
			TALENT:L_T:ＮＴＲ度 = 1
	;失踪
	CASEELSE
ENDSELECT
