;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	Module		:COMFxxx.ERB
;	Facility	:TRAINコマンド(30:自慰)。
;
;	Licence		:ライセンスフリー。
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;===============================================================================
;  ◇記載関数一覧(記載順)
;
;		Module Name						Explanation
;
;	・ COM_FUNC_GET_NAME_Xxxx			取得:コマンド名称
;	・ COM_FUNC_ABLE_Xxxx				CHK:コマンド実行条件
;	・ COM_FUNC_EXE_Xxxx				コマンド実行
;	・ COM_FUNC_SRC_Xxxx				コマンドソース
;	・ COM_FUNC_TRAIN_MSG_Xxxx			コマンドメッセージ
;	・ COM_FUNC_GET_TYPE_Xxxx			取得:コマンド種別
;
;===============================================================================

;=================================================
;   sub COM_FUNC_GET_NAME_Xxxx
;=================================================
;   取得:コマンド名称
;-------------------------------------------------
; Output:
;  RESULTS				コマンド名称
;-------------------------------------------------
@COM_FUNC_GET_NAME_X30
RESULTS = 자위

;=================================================
;   sub COM_FUNC_ABLE_Xxxx
;=================================================
;   CHK:コマンド実行条件
;-------------------------------------------------
; Output:
;  RESULT				真偽値
;-------------------------------------------------
@COM_FUNC_ABLE_X30

;- TR:奉仕可能
SIF !TR_CHK_奉仕可能()
	RETURN 0

RETURN 1

;=================================================
;   sub COM_FUNC_EXE_Xxxx
;=================================================
;   コマンド実行
;-------------------------------------------------
@COM_FUNC_EXE_X30
#DIM L_P
#DIM L_T
#DIM L_TMP
#DIM L_I
VARSET LOCAL

L_P = PLAYER
L_T = TARGET

;-----------------------------
;COM別FLAGの設定
;-----------------------------

TEQUIP:L_T:ポイント愛撫 = [[TRAIN:自慰]]

;-----------------------------
;ソース追加処理
;-----------------------------

;-----------------------------
;その他の処理
;-----------------------------


;=================================================
;   sub COM_FUNC_SRC_Xxxx
;=================================================
;   コマンドソース
;-------------------------------------------------
@COM_FUNC_SRC_X30
#DIM L_P
#DIM L_T
#DIM L_TMP
#DIM L_I
VARSET LOCAL

L_P = PLAYER
L_T = TARGET

;-----------------------------
;COM別FLAGの設定
;-----------------------------

;-----------------------------
;ソース追加処理
;-----------------------------

LOCAL:0 = 100
LOCAL:1 = 100
LOCAL:2 = 120

;-- 補正追加

;- 範囲:100%～200%
LOCAL:10 = ABL:L_T:기교
SELECTCASE LOCAL:10
	CASE 0 to 8
		L_TMP = 100 + (10 * LOCAL:10)
	CASEELSE
		L_TMP = 200
ENDSELECT
LOCAL:0 = LOCAL:0 * L_TMP / 100
LOCAL:1 = LOCAL:1 * L_TMP / 100
LOCAL:2 = LOCAL:2 * L_TMP / 100

;- ソース
SOURCE:L_T:快Ｃ += LOCAL:0
SOURCE:L_T:快Ｂ += LOCAL:1
SOURCE:L_T:性奉仕 += LOCAL:2


;-----------------------------
;経験の処理
;-----------------------------

;- TR:異性愛経験
CALL TR_EXP_ADD_HETEROSEX(L_T,L_P)

;- 各種経験
GTR_EXPUP:L_T:DB_EXPUP_POS("자위경험") += 1
GTR_EXPUP:L_T:DB_EXPUP_POS("유혹경험") += 1


;-----------------------------
;その他の処理
;-----------------------------




;=================================================
;   sub COM_FUNC_TRAIN_MSG_Xxxx
;=================================================
;   コマンドメッセージ
;-------------------------------------------------
@COM_FUNC_TRAIN_MSG_X30
;순종LV3未満
IF ABL:순종 < 3
	PRINTFORM 자위를 명령하자 %CALLNAME%는 
	;프라이드높음
	IF TALENT:프라이드높음
		PRINT 자존심 높은 태도로 
	;반항적
	ELSEIF TALENT:반항적
		PRINT 반항적인 태도로 
	;당당함
	ELSEIF TALENT:당당함
		PRINT 당당하게 
	ENDIF
	PRINT 이쪽을 노려봤지만、
	PRINT 다시금 명령하자 마지못해 
;순종LV5未満
ELSEIF ABL:순종 <= 5
	PRINTFORM 조교의 성과가 있었는지、%CALLNAME%는 명령에 따라 
ELSE
	PRINTFORM %CALLNAME%는 자위하라는 명령에 싫어하는 척조차 하지 않고、
ENDIF
PRINTL
;노출증LV6以上
SIF ABL:노출증 >= 6
	PRINT 보란 듯이、

;ペニスあり
IF VAR_PENIS()
	PRINT 자지를 
ELSE
	PRINT 보지를 
ENDIF
PRINTL 자신의 손가락으로 지분거리면서 쾌감을 맛보고 있다……

WAIT


;=================================================
;   sub COM_FUNC_GET_TYPE_Xxxx
;=================================================
;   取得:コマンド種別
;-------------------------------------------------
; Output:
;  RESULT				コマンド種別
;-------------------------------------------------
@COM_FUNC_GET_TYPE_X30
RETURN [[COM種別:愛撫系]]

